metadata:
  id: "deploy-ffmpeg"
  name: "FFmpeg"
  description: "FFmpeg is a complete, cross-platform solution to record, convert and stream audio and video. This container is designed to be run ephemerally from the command line for processing media files. Unlike typical service containers, it processes files on-demand rather than running as a long-lived service. Uses ffmpeg image from linuxserver.io"
  author: "Nixopus Team"
  icon: "ðŸŽ¬"
  category: "Utility"
  type: "install"
  version: "1.0.0"
  isVerified: false

variables:
  image:
    type: "string"
    description: "Docker image for FFmpeg"
    default: "lscr.io/linuxserver/ffmpeg"
    is_required: true

  tag:
    type: "string"
    description: "Docker image tag"
    default: "latest"
    is_required: true

  config_volume_name:
    type: "string"
    description: "Named Docker volume or host path for input/output files (typically bind-mounted current directory)"
    default: "ffmpeg-work"
    is_required: false

  puid:
    type: "integer"
    description: "User ID for running the container (output files will match input file permissions if detected)"
    default: 1000
    is_required: false

  pgid:
    type: "integer"
    description: "Group ID for running the container"
    default: 1000
    is_required: false

execution:
  run:
    - name: "Pull FFmpeg image"
      type: "docker"
      properties:
        action: "pull"
        image: "{{ image }}"
        tag: "{{ tag }}"
      timeout: 300

